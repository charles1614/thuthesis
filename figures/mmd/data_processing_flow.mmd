flowchart TD
    subgraph RawData["Raw Data Input"]
        A["Multi-sensor Data<br/>TFRecord Format"]
        B["RGB Sequences<br/>Multi-view Cameras"]
        C["LiDAR Point Cloud<br/>3D Geometry"]
        D["Object Trajectories<br/>Motion States"]
    end
    
    subgraph Preprocessing["Data Preprocessing"]
        E["Format Conversion<br/>Standardization"]
        F["Point Colorization<br/>RGB Fusion"]
        G["Trajectory Parsing<br/>Pose Extraction"]
        H["Multi-modal Alignment<br/>Temporal Sync"]
    end
    
    subgraph ConditionGen["Geometric Condition Generation"]
        I["LiDAR Rendering<br/>Depth Map"]
        J["Occlusion Handling<br/>Visibility Mask"]
        K["RGB-D Condition<br/>Pixel-level Geometry"]
    end
    
    subgraph SceneConstruction["Scene Construction"]
        L["Scene Manager<br/>Data Organization"]
        M["Training Dataset<br/>Batch Interface"]
    end
    
    A --> E
    B --> E
    C --> F
    D --> G
    
    E --> I
    F --> I
    G --> J
    H --> K
    
    I --> L
    J --> L
    K --> M
    
    classDef normalStyle fill:#FFFFFF,stroke:#999999,stroke-width:2px
    classDef importantStyle fill:#E3F2FD,stroke:#1976D2,stroke-width:2px
    
    class A,E,I,L importantStyle
    class B,C,D,F,G,H,J,K,M normalStyle